version: "2"
plugins:
  - name: rust-gen
    env:
      - RUST_BACKTRACE
      - RUST_LOG
    wasm:
      url: file://./../../../target/wasm32-wasi/release/sqlc-gen.wasm
      sha256: 9f25d863b8355ac65d09fbb8f1b23ccd9f81691db0e76fcb0ff5e0f7e8c427b6
#
# - name: js
#   process:
#     cmd: sqlc-gen-json
sql:
  - schema: postgresql/schema.sql
    queries: postgresql/query.sql
    engine: postgresql
    codegen:
      - out: gen
        plugin: rust-gen
        options:
          lang: en-US
    # - out: gen
    #   plugin: js
